{"version":3,"file":"static/webpack/static/development/pages/index.js.4fc57dda91c4397304a8.hot-update.js","sources":["webpack:///./components/index/Product.jsx"],"sourcesContent":["import { useContext } from \"react\";\nimport styled from \"@emotion/styled\";\nimport Link from \"next/link\";\nimport api from \"../../api\";\n\n// State\nimport UserContext from \"../../state/user/context\";\n\nconst Product = ({ product, userData }) => {\n  const userContext = useContext(UserContext);\n\n  const redeemProduct = async productId => {\n    await api.user.redeemProduct(productId);\n    const userDataRes = await api.user.getData();\n\n    userContext.updateUserData(userDataRes.data);\n  };\n\n  const productNameForUrl = name => {\n    return name.toLowerCase().replace(/\\s+/g, \"-\");\n  };\n\n  return (\n    <Container>\n      {product && userData && (\n        <>\n          <h2>{product.name}</h2>\n          <Link\n            href={{\n              pathname: \"/detail\",\n              query: { id: product._id }\n            }}\n            as={`/detail/${productNameForUrl(product.name)}`}\n          >\n            <img src={product.img.url} />\n          </Link>\n          <h3>{product.category}</h3>\n          <span>{product.cost}</span>\n          <Button\n            product={product}\n            userData={userData}\n            onClick={\n              userData.points > product.cost\n                ? () => redeemProduct(product._id)\n                : false\n            }\n          >\n            {userData.points > product.cost ? (\n              \"REDEEM\"\n            ) : (\n              <strong>{`- ${Math.abs(userData.points - product.cost)}`}</strong>\n            )}\n          </Button>\n        </>\n      )}\n    </Container>\n  );\n};\n\nconst Container = styled.div`\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  align-items: center;\n  border: 2px solid #d70026;\n\n  h2 {\n    color: #002c54;\n  }\n\n  h3,\n  span {\n    background-color: #002c54;\n    color: #ffec5c;\n    padding: 0.5vh;\n    border-radius: 0.5vh;\n    align-self: flex-end;\n    margin-right: 1vh;\n  }\n\n  img {\n    border: 1px dashed #d70026;\n    cursor: pointer;\n  }\n`;\n\nconst Button = styled.div`\n  display: flex;\n  align-items: center;\n  color: ${({ userData, product }) =>\n    userData.points > product.cost ? \"#ffec5c\" : \"#d70026\"};\n  justify-content: center;\n  height: 8vh;\n  width: 25vh;\n  background-color: ${({ userData, product }) =>\n    userData.points > product.cost ? \"#d70026\" : \"#002c54\"};\n  cursor: ${({ userData, product }) =>\n    userData.points > product.cost ? \"pointer\" : \"auto\"};\n  border-radius: 0.5vh;\n  margin: 2vh;\n`;\n\nexport default Product;\n\n// _id, category, cost, name, img.url\n"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AAAA;AAAA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AADA;AAAA;AAAA;AACA;AADA;AAEA;AAEA;AACA;AALA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AADA;AAAA;AAAA;AAAA;AACA;AAMA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAGA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AACA;AACA;AAAA;AAAA;AAFA;AAIA;AALA;AAAA;AAAA;AAAA;AAAA;AAAA;AAOA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AACA;AACA;AAEA;AAAA;AALA;AAAA;AAAA;AAAA;AAAA;AAAA;AAYA;AAAA;AAAA;AAAA;AAAA;AAAA;AAOA;AACA;AACA;AA2BA;AAGA;AAAA;AAAA;AAAA;AAKA;AAAA;AAAA;AAAA;AAEA;AAAA;AAAA;AAAA;AAMA;;;;A","sourceRoot":""}