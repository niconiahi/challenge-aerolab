{"version":3,"file":"static/webpack/static/development/pages/_app.js.e31d5dd9fd8c313d251e.hot-update.js","sources":["webpack:///./state/index.js"],"sourcesContent":["import { useReducer } from 'react'\n\nimport ProductContext from './product/context'\nimport { ProductReducers, PRODUCTS_UPDATE } from './product/reducers'\nimport UserContext from './user/context'\nimport {\n  UserReducers,\n  USER_UPDATE,\n  /* PRODUCT_REDEEM,\n  POINTS_ADD */\n} from './user/reducers'\n\nconst GlobalState = ({ children }) => {\n  const [productState, productDispatch] = useReducer(ProductReducers, {\n    products: [],\n  })\n  const [userState, userDispatch] = useReducer(UserReducers, { data: {} })\n\n  // getProductsPaginated(16, 2)\n  const getProductsPaginated = (pageSize) => {\n    let productsPaginated = []\n    let pageNumber = 0\n\n    while (pageNumber < productState.products.length / pageSize) {\n      productsPaginated.push(\n        productState.products.slice(pageNumber * pageSize, (pageNumber + 1) * pageSize)\n      )\n      pageNumber++\n    }\n\n    return productsPaginated\n  }\n\n  const updateProductList = (products) => {\n    productDispatch({ type: PRODUCTS_UPDATE, products })\n  }\n\n  const updateUserData = (userData) => {\n    userDispatch({ type: USER_UPDATE, userData })\n  }\n\n  // Las pretendia usar pero tuve un problema con useReducer\n  // y el hecho de que no se por que razon no se puede ejecutar async-await\n  // en el body de su ejecucion. Si hay dudas de lo que intente hacer, por favor\n  // comunicarse conmigo. Encantado de explicar como lo encare\n\n  // const redeemProduct = productId => {\n  //   userDispatch({ type: PRODUCT_REDEEM, productId });\n  // };\n\n  // const addPoints = quantity => {\n  //   userDispatch({ type: POINTS_ADD, quantity });\n  // };\n\n  return (\n    <ProductContext.Provider\n      value={{\n        productState,\n        updateProductList,\n        productsPaginated: getProductsPaginated(16),\n      }}>\n      <UserContext.Provider\n        value={{ userState, updateUserData /* redeemProduct, addPoints */ }}>\n        {children}\n      </UserContext.Provider>\n    </ProductContext.Provider>\n  )\n}\n\nexport default GlobalState\n\n// const productContext = useContext(ProductContext);\n// const userContext = useContext(UserContext);\n"],"mappings":";;;;;;;;;;;;;;;;;;;;;AAAA;AAEA;AACA;AACA;AAMA;AACA;AACA;AAAA;AACA;AADA;AAEA;AADA;AADA;AAAA;AAAA;AACA;AADA;AAIA;AAAA;AAJA;AAAA;AAAA;AACA;AACA;AAKA;AACA;AACA;AACA;AACA;AACA;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AACA;AAGA;AACA;AACA;AAEA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AAAA;AAEA;AACA;AACA;AACA;AAHA;AADA;AAAA;AAAA;AAAA;AAAA;AAAA;AAOA;AAAA;AAAA;AAAA;AACA;AADA;AADA;AAAA;AAAA;AAAA;AAAA;AAAA;AAMA;AACA;AACA;AAGA;;;;A","sourceRoot":""}