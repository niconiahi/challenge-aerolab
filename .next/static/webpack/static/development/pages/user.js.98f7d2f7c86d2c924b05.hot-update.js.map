{"version":3,"file":"static/webpack/static/development/pages/user.js.98f7d2f7c86d2c924b05.hot-update.js","sources":["webpack:///./components/user/UserRedeemHistory.jsx","webpack:///./pages/user.jsx"],"sourcesContent":["import { useContext } from 'react'\nimport styled from '@emotion/styled'\nimport { format } from 'date-fns'\nimport api from '../../api'\n\n// Components\nimport RedeemedProduct from '../../components/user/RedeemedProduct'\n\n// State\nimport UserContext from '../../state/user/context'\n\nconst UserRedeemHistory = ({ userData }) => (\n  <UserRedeemHistoryContainer>\n    <h3>Redeem History</h3>\n    {userData.redeemHistory.map((product) => (\n      <RedeemedProduct product={product} />\n    ))}\n  </UserRedeemHistoryContainer>\n)\n\nconst UserRedeemHistoryContainer = styled.div`\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  align-items: center;\n  color: #d70026;\n\n  > h3 {\n    border-bottom: 3px dashed #002c54;\n  }\n`\nexport default UserRedeemHistory\n","import { useContext, useEffect } from 'react'\nimport styled from '@emotion/styled'\n\n// API\nimport api from '../api'\n\n// Components\nimport MainLayout from '../layouts/MainLayout'\nimport UserInformation from '../components/user/UserInformation'\n\n// State\nimport UserContext from '../state/user/context'\nimport UserRedeemHistory from '../components/user/UserRedeemHistory'\n\nconst UserPage = ({ userData }) => {\n  const userContext = useContext(UserContext)\n\n  useEffect(() => {\n    userContext.updateUserData(userData)\n  }, [])\n\n  const addPoints = async (quantity) => {\n    await api.user.addPoints(quantity)\n    const userDataRes = await api.user.getData()\n\n    userContext.updateUserData(userDataRes.data)\n  }\n\n  return (\n    <>\n      <MainLayout>\n        <Container>\n          <UserInformation userData={userContext.userState.data} />\n          <UserRedeemHistory userData={userContext.userState.data} />\n        </Container>\n      </MainLayout>\n    </>\n  )\n}\n\nconst Container = styled.div`\n  grid-column: 2 / -2;\n  display: flex;\n  flex-direction: column;\n  justify-content: flex-start;\n  align-items: center;\n  color: #d70026;\n\n  h3,\n  h2 {\n    border-bottom: 3px solid #002c54;\n  }\n\n  > h4 {\n    color: #002c54;\n  }\n`\n\nUserPage.getInitialProps = async () => {\n  let userData = {}\n\n  try {\n    const res = await api.user.getData()\n    userData = res.data\n  } catch (err) {\n    console.error(err)\n  }\n  return { userData }\n}\n\nexport default UserPage\n"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AAEA;AACA;AAEA;AACA;AACA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AADA;AAHA;AACA;AAQA;AAWA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AC/BA;AACA;AACA;AAEA;AACA;AAEA;AACA;AACA;AAEA;AACA;AACA;AACA;AAAA;AACA;AAEA;AACA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AADA;AAAA;AAAA;AACA;AADA;AAEA;AAEA;AACA;AALA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AADA;AAAA;AAAA;AAAA;AACA;AAMA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAKA;AACA;AACA;AAkBA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AADA;AAAA;AAAA;AACA;AADA;AAIA;AACA;AALA;AAAA;AACA;AADA;AAAA;AAAA;AAOA;AACA;AARA;AAAA;AASA;AAAA;AACA;AAVA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAYA;;;;A","sourceRoot":""}